âœ… Step 1 â€” Check Cruise Control Pod
oc get pods -n <kafka-namespace>

You should see something like:

my-cluster-cruise-control-xxxx
âœ… Step 2 â€” Port Forward Cruise Control
oc port-forward svc/<cluster-name>-cruise-control 9090:9090 -n <namespace>

Example:

oc port-forward svc/perf-kafka-cruise-control 9090:9090 -n perf

Now CC API available at:

http://localhost:9090
ðŸ§ª Step 3 â€” First Run Dry Run (NO IMPACT)

Very important ðŸ‘‡

Open new terminal and run:

curl -X POST "http://localhost:9090/kafkacruisecontrol/rebalance?dryrun=true"

This:

Generates proposal

Shows partition movements

Does NOT move anything

Safe.

ðŸ”¥ Step 4 â€” Execute Real Rebalance

If proposal looks good:

curl -X POST "http://localhost:9090/kafkacruisecontrol/rebalance"

Now it will:

Start moving partitions

Change leaders gradually

Cluster remains online.

ðŸ“Š Step 5 â€” Monitor Progress

Check status:

curl "http://localhost:9090/kafkacruisecontrol/state"

Or watch logs:

oc logs -f <cruise-control-pod>


+++++++++++++++++++++++++++++++++++

STEP 1 â€” Check Cruise Control Service

Run:

oc get svc -n <your-namespace> | grep cruise

You will see something like:

perf-kafka-cruise-control
STEP 2 â€” Port Forward Cruise Control

Run this in your local terminal:

oc port-forward svc/perf-kafka-cruise-control 9090:9090 -n <namespace>

Example:

oc port-forward svc/perf-kafka-cruise-control 9090:9090 -n perf

Now Cruise Control is accessible locally at:

http://localhost:9090

Keep this terminal open.

STEP 3 â€” First Do Safe Dry Run (No Impact)

Open another terminal and run:

curl -X POST "http://localhost:9090/kafkacruisecontrol/rebalance?dryrun=true"

This will:

Analyze cluster

Show what it plans to move

NOT move anything

Safe step.

STEP 4 â€” Run Actual Rebalance

After dry run looks okay:

curl -X POST "http://localhost:9090/kafkacruisecontrol/rebalance"

Now it will:

Start moving partitions slowly

Shift leaders

Balance load

Cluster stays online.

STEP 5 â€” Check Status
curl "http://localhost:9090/kafkacruisecontrol/state"
