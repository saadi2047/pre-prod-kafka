DR
mirrorMaker2:
    enabled: true
    name: "pre-prod-kafka-mirror-maker"
    # Active/Passive setup for DR
    clusters:
      - alias: "source"
        bootstrapServers: "pre-prod-kafka-cluster-kafka-bootstrap.pre-prod-kafka.svc.cluster.local:9092"
      - alias: "target"
        bootstrapServers: "pre-prod-dc-kafka-cluster-kafka-bootstrap-pre-prod-dc-kafka.apps.dcpreprod.epay.sbi:443"
        #bootstrapServers: "dr-kafka-cluster-kafka-bootstrap.dr-kafka.svc.cluster.local:9092"

DC
mirrorMaker2:
    enabled: false
    name: "pre-prod-dc-kafka-mirror-maker"
    # Active/Passive setup for DR
    clusters:
      - alias: "source"
        bootstrapServers: "pre-prod-dc-kafka-cluster-kafka-bootstrap.pre-prod-dc-kafka.svc.cluster.local:9092"
      - alias: "target"
        bootstrapServers: "pre-prod-kafka-cluster-kafka-bootstrap-pre-prod-kafka.apps.preprod.epay.sbi:443"
        #bootstrapServers: "dr-kafka-cluster-kafka-bootstrap.dr-kafka.svc.cluster.local:9092"
    mirrors:


-------------------------------------------

pre-prod-dr config :


mirrorMaker2:
  enabled: true
  name: "pre-prod-dr-kafka-mirror-maker"

  clusters:
    # SOURCE = DR (ACTIVE)
    - alias: "source"
      bootstrapServers: "pre-prod-kafka-cluster-kafka-bootstrap.pre-prod-kafka.svc.cluster.local:9092"

    # TARGET = DC (PASSIVE)
    - alias: "target"
      bootstrapServers: "pre-prod-dc-kafka-cluster-kafka-bootstrap-pre-prod-dc-kafka.apps.dcpreprod.epay.sbi:443"

  mirrors:
    - sourceCluster: "source"
      targetCluster: "target"
      topicsPattern: ".*"
      groupsPattern: ".*"

      sourceConnector:
        config:
          replication.policy.class: "org.apache.kafka.connect.mirror.IdentityReplicationPolicy"

      checkpointConnector:
        config:
          replication.policy.class: "org.apache.kafka.connect.mirror.IdentityReplicationPolicy"


-------------------------------------------------------------
pre-prod-dc config:

mirrorMaker2:
  enabled: false
  name: "pre-prod-dc-kafka-mirror-maker"

  clusters:
    # SOURCE (would be DC if active – NOT USED NOW)
    - alias: "source"
      bootstrapServers: "pre-prod-dc-kafka-cluster-kafka-bootstrap.pre-prod-dc-kafka.svc.cluster.local:9092"

    # TARGET (would be DR if failover – NOT USED NOW)
    - alias: "target"
      bootstrapServers: "pre-prod-kafka-cluster-kafka-bootstrap-pre-prod-kafka.apps.preprod.epay.sbi:443"

  mirrors: []



--------------------------
DR active

mirrorMaker2:
  enabled: true
  name: "pre-prod-dc-kafka-mirror-maker"

  clusters:
    # SOURCE = ACTIVE DR (remote)
    - alias: "source"
      bootstrapServers: "pre-prod-kafka-cluster-kafka-bootstrap-pre-prod-kafka.apps.preprod.epay.sbi:443"

    # TARGET = LOCAL DC
    - alias: "target"
      bootstrapServers: "pre-prod-dc-kafka-cluster-kafka-bootstrap.pre-prod-dc-kafka.svc.cluster.local:9092"

  mirrors:
    - sourceCluster: "source"
      targetCluster: "target"
      topicsPattern: ".*"
      groupsPattern: ".*"

      sourceConnector:
        config:
          replication.policy.class: "org.apache.kafka.connect.mirror.IdentityReplicationPolicy"

      checkpointConnector:
        config:
          replication.policy.class: "org.apache.kafka.connect.mirror.IdentityReplicationPolicy"


++++++++++++++++++++++++++++++++++
DC active

mirrorMaker2:
  enabled: true
  name: "pre-prod-dr-kafka-mirror-maker"

  clusters:
    # SOURCE = ACTIVE DC (remote)
    - alias: "source"
      bootstrapServers: "pre-prod-dc-kafka-cluster-kafka-bootstrap-pre-prod-dc-kafka.apps.dcpreprod.epay.sbi:443"

    # TARGET = LOCAL DR Kafka
    - alias: "target"
      bootstrapServers: "pre-prod-kafka-cluster-kafka-bootstrap.pre-prod-kafka.svc.cluster.local:9092"
      # use 9093 if internal TLS listener is enabled

  mirrors:
    - sourceCluster: "source"
      targetCluster: "target"
      topicsPattern: ".*"
      groupsPattern: ".*"

      sourceConnector:
        config:
          replication.policy.class: "org.apache.kafka.connect.mirror.IdentityReplicationPolicy"

      checkpointConnector:
        config:
          replication.policy.class: "org.apache.kafka.connect.mirror.IdentityReplicationPolicy"
